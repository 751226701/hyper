<include file="public@header"/>
</head>
<body>
<div class="layui-fluid">
    <div class="layui-row">
        <div class="layui-card">
            <div class="layui-tab layui-tab-brief">
                <ul class="layui-tab-title">
                    <li><a href="{:url('User/userInfo')}">{:lang('ADMIN_USER_USERINFO')}</a></li>
                    <li class="layui-this"><a href="{:url('User/emailSetting')}">{:lang('ADMIN_USER_EMAILSETTING')}</a></li>
                    <li><a href="{:url('Setting/password')}">{:lang('ADMIN_SETTING_PASSWORD')}</a></li>
                </ul>
                <div class="layui-tab-content">
                    <form method="PUT" class="layui-form js-ajax-form" action="admin/my/email/setting">
                        <div class="layui-form-item">
                            <label class="layui-form-label"><span class="form-required">*</span>{:lang('SENDER_NAME')}</label>
                            <div class="layui-input-block">
                                <input type="text" class="layui-input" name="from_name" value="{$from_name|default=''}">
                            </div>
                        </div>
                        
                        <div class="layui-form-item">
                            <label class="layui-form-label"><span class="form-required">*</span>{:lang('SENDER_EMAIL_ADDRESS')}</label>
                            <div class="layui-input-block">
                                <input type="text" class="layui-input" name="from" value="{$from|default=''}">
                            </div>
                        </div>
                        
                        <div class="layui-form-item">
                            <label class="layui-form-label"><span class="form-required">*</span>{:lang('SENDER_SMTP_SERVER')}</label>
                            <div class="layui-input-block">
                                <input type="text" class="layui-input" name="host" value="{$host|default=''}">
                            </div>
                        </div>
                        
                        <div class="layui-form-item">
                            <label class="layui-form-label"><span class="form-required">*</span>{:lang('SMTP Secure Protocol')}</label>
                            <div class="layui-input-block">
                                <select name="smtp_secure" id="js-smtpsecure" lay-verify="">
                                    <option value="">{:lang('Default')}</option>
                                    <option value="ssl">ssl</option>
                                    <option value="tls">tls</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="layui-form-item">
                            <label class="layui-form-label"><span class="form-required">*</span>{:lang('SMTP Server Port')}</label>
                            <div class="layui-input-block">
                                <input type="text" class="layui-input" name="port" value="{$port|default=''}" placeholder="25">
                            </div>
                        </div>
                        
                        <div class="layui-form-item">
                            <label class="layui-form-label"><span class="form-required">*</span>{:lang('SMTP_MAIL_ADDRESS')}</label>
                            <div class="layui-input-block">
                                <input type="text" class="layui-input" name="username" value="{$username|default=''}">
                            </div>
                        </div>
                        
                        <div class="layui-form-item">
                            <label class="layui-form-label"><span class="form-required">*</span>{:lang('SMTP_MAIL_PASSWORD')}</label>
                            <div class="layui-input-block">
                                <input type="password" class="layui-input" name="password" value="{$password|default=''}">
                            </div>
                        </div>
                        
                        <div class="layui-form-item">
                            <label class="layui-form-label"><span class="form-required">*</span>{:lang('Email Signature')}</label>
                            <div class="layui-input-block">
                                <script type="text/plain" id="signature" name="signature">{$signature|default=""|htmlspecialchars_decode}</script>
                                <literal><span style="color: #ffb752;"><!--，{$username}代替用户名--></span></literal>
                            </div>
                        </div>
                        
                        <div class="layui-form-item">
                            <div class="layui-input-block">
                                <button type="submit" class="layui-btn js-ajax-submit">
                                    <i class="layui-icon layui-icon-success"></i> {:lang('SAVE')}
                                </button>
                                <a class="layui-btn layui-btn-warm" href="javascript:parent.openIframeLayer('{:url('User/emailSettingTest')}','{:lang('Send Test Email')}',{area:['600px','400px']});">
                                    {:lang('Send Test Email')}
                                </a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    //编辑器路径定义
    var editorURL = GV.WEB_ROOT;
</script>
<script type="text/javascript" src="__STATIC__/js/ueditor/ueditor.config.js"></script>
<script type="text/javascript" src="__STATIC__/js/ueditor/ueditor.all.min.js"></script>
<script type="text/javascript">
    var editorcontent = new baidu.editor.ui.Editor();
    editorcontent.render('signature');
</script>
<script>
    $(function () {
        $('#js-smtpsecure').val("{$smtp_secure|default=''}");
    });
</script>
<style>
/* 必填项标记样式 */
.form-required {
    color: red;
    margin-right: 3px;
}
</style>
</body>
</html>
