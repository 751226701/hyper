<!--
 * @Desc: Theme files management
 * @Author: Patrick Star
 * @Date: 2024-12-16 16:59:34
-->
<include file="public@header"/>
</head>
<body>
<div class="layui-fluid">
    <div class="layui-row">
        <div class="layui-card">
            <div class="layui-tab layui-tab-brief">
                <div class="layui-tab-content">
                    <form method="post" class="layui-form js-ajax-form">
                        <table class="layui-table">
                            <thead>
                                <tr>
                                    <th>{:lang('File Name')}</th>
                                    <th>{:lang('Controller Action')}</th>
                                    <th>{:lang('File Path')}</th>
                                    <th>{:lang('Description')}</th>
                                    <th width="60">{:lang('ACTIONS')}</th>
                                </tr>
                            </thead>
                            <tbody>
                            <foreach name="files" item="vo">
                                <tr>
                                    <td>{$vo.name}</td>
                                    <td>{$vo.action}</td>
                                    <td>{$vo.file}.html</td>
                                    <td>{$vo.description}</td>
                                    <td>
                                        <a class="layui-btn layui-btn-xs layui-btn-normal"
                                        href="javascript:;"
                                        data-file="{$vo.id}"
                                        data-title="{$vo.name} {$vo.file}.html"
                                        onclick="openDesignDialog(this)"
                                        title="{:lang('Design')}" data-toggle="tooltip">
                                            <i class="layui-icon layui-icon-edit"></i>
                                        </a>
                                    </td>
                                </tr>
                            </foreach>
                            </tbody>
                        </table>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="__STATIC__/js/admin.js?v={$_static_version}"></script>
<script>
    function openDesignDialog(obj) {
        var $obj = $(obj);
        var fileId = $obj.data('file');
        var title = $obj.data('title');
        parent.openIframeLayer("{:url('Theme/fileSetting')}?file_id=" + fileId, title, {
            area: GV.IS_MOBILE ? ['100%', '100%'] : ['600px', '100%'],
            offset: GV.IS_MOBILE ? ['0px', '0px'] : 'auto',
            btn: ["{:lang('OK')}", "{:lang('CANCEL')}"],
            yes: function (index, layero) {
                var iframeWin = parent.window[layero.find('iframe')[0]['name']];
                iframeWin.confirm();
            }
        });
    }
</script>
</body>
</html>
