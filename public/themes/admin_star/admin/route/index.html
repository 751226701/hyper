<!--
 * @Desc: Route management
 * @Author: Patrick Star
 * @Date: 2024-12-16 16:59:34
-->
<include file="public@header"/>
</head>
<body>
<div class="layui-fluid">
    <div class="layui-row">
        <div class="layui-card">
            <div class="layui-tab layui-tab-brief">
                <ul class="layui-tab-title">
                    <li class="layui-this"><a href="{:url('Route/index')}">{:lang('ADMIN_ROUTE_INDEX')}</a></li>
                    <li><a href="{:url('Route/add')}">{:lang('ADMIN_ROUTE_ADD')}</a></li>
                </ul>
                <div class="layui-tab-content">
                    <form class="layui-form js-ajax-form" action="admin/routes/list/order" method="post">
                        <div class="layui-btn-group">
                            <button type="submit" class="layui-btn layui-btn-xs js-ajax-submit" 
                                    title="{:lang('Sort')}" data-toggle="tooltip">
                                <i class="layui-icon layui-icon-sort"></i> {:lang('Sort')}
                            </button>
                        </div>
                        <table class="layui-table">
                            <thead>
                                <tr>
                                    <th width="100">{:lang('Sort')}</th>
                                    <th width="50">ID</th>
                                    <th>{:lang('Full Url')}</th>
                                    <th>{:lang('Short Url')}</th>
                                    <th>{:lang('Type')}</th>
                                    <th>{:lang('Status')}</th>
                                    <th width="150">{:lang('ACTIONS')}</th>
                                </tr>
                            </thead>
                            <tbody>
                            <php>
                                $statuses=array('0'=>lang('Disabled'),"1"=>lang('Enabled'));
                                $types=array('1'=>lang('ROUTE_TYPE_1'),"2"=>lang('ROUTE_TYPE_2'));
                            </php>
                            <foreach name="routes" item="vo">
                                <tr>
                                    <td>
                                        <input name="list_orders[{$vo.id}]" class="layui-input layui-input-sm"
                                               type="text" value="{$vo.list_order}">
                                    </td>
                                    <td>{$vo.id}</td>
                                    <td>{$vo.full_url}</td>
                                    <td>{$vo.url}</td>
                                    <td>
                                        <eq name="vo.type" value="2">
                                            <span class="layui-badge layui-bg-danger" data-toggle="tooltip"
                                                  title="{:lang('ROUTE_TYPE_2_TIP')}">{$types[$vo['type']]}</span>
                                            <else/>
                                            <span class="layui-badge layui-bg-green" data-toggle="tooltip"
                                                  title="{:lang('ROUTE_TYPE_1_TIP')}">{$types[$vo['type']]}</span>
                                        </eq>
                                    </td>
                                    <td>
                                        <empty name="vo.status">
                                            <span class="layui-badge layui-bg-gray">{$statuses[$vo['status']]}</span>
                                            <else/>
                                            <span class="layui-badge layui-bg-green">{$statuses[$vo['status']]}</span>
                                        </empty>
                                    </td>
                                    <td>
                                        <eq name="vo.type" value="2">
                                            <button class="layui-btn layui-btn-xs layui-btn-disabled" title="{:lang('EDIT')}" data-toggle="tooltip">
                                                <i class="layui-icon layui-icon-edit"></i>
                                            </button>
                                            <button class="layui-btn layui-btn-xs layui-btn-warm layui-btn-disabled" title="{:lang('Disable')}"
                                                  data-toggle="tooltip">
                                                <i class="layui-icon layui-icon-close"></i>
                                            </button>
                                            <button class="layui-btn layui-btn-xs layui-btn-danger layui-btn-disabled" title="{:lang('DELETE')}"
                                                  data-toggle="tooltip">
                                                <i class="layui-icon layui-icon-delete"></i>
                                            </button>
                                            <else/>
                                            <a class="layui-btn layui-btn-xs" href="{:url('Route/edit',array('id'=>$vo['id']))}"
                                               data-toggle="tooltip" title="{:lang('EDIT')}">
                                                <i class="layui-icon layui-icon-edit"></i>
                                            </a>
                                            <eq name="vo.status" value="1">
                                                <a class="layui-btn layui-btn-xs layui-btn-warm js-ajax-dialog-btn"
                                                   href="javascript:"
                                                   data-href="admin/routes/{$vo.id}/status/0"
                                                   data-toggle="tooltip"
                                                   data-msg="{:lang('Are you sure you want to disable it?')}"
                                                   title="{:lang('Disable')}">
                                                    <i class="layui-icon layui-icon-close"></i>
                                                </a>
                                                <else/>
                                                <a class="layui-btn layui-btn-xs layui-btn-normal js-ajax-dialog-btn"
                                                   href="javascript:"
                                                   data-href="admin/routes/{$vo.id}/status/1"
                                                   data-toggle="tooltip"
                                                   data-msg="{:lang('Are you sure you want to enable it?')}"
                                                   title="{:lang('Enable')}">
                                                    <i class="layui-icon layui-icon-ok"></i>
                                                </a>
                                            </eq>
                                            <a class="layui-btn layui-btn-xs layui-btn-danger js-ajax-delete"
                                               href="javascript:"
                                               data-href="admin/routes/{$vo.id}"
                                               title="{:lang('DELETE')}"
                                               data-toggle="tooltip">
                                                <i class="layui-icon layui-icon-delete"></i>
                                            </a>
                                        </eq>
                                    </td>
                                </tr>
                            </foreach>
                            </tbody>
                        </table>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="__STATIC__/js/admin.js?v={$_static_version}"></script>
</body>
</html>